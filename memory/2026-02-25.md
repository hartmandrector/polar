# 2026-02-25 Session Notes

## Projects Reviewed Today

### BASElineXR (`C:\Users\hartm\StudioProjects\BASElineXR`)
- Meta Quest VR wingsuit app, `platypii/BASElineXR`, `sensor-ble` branch
- Integration hub: FlySight BLE → Kalman filter → WSE physics → VR terrain
- 166 source files (Java/Kotlin), Meta Spatial SDK v0.7.0
- WSE inverse function extracts kl/kd/roll from velocity+acceleration — Polar's segment aero replaces this
- Committed `ec20859` on `sensor-ble`: 290 files, FlySight 2 BLE sensor integration (all uncommitted changes in one commit on top of existing history)
- Git identity set: `user.name "Hartman Rector"`, `user.email "hartmandrector@hotmail.com"` (repo-local)

### CloudBASE (`C:\dev\CloudBASE`)
- Production baseline.ws website. `platypii/CloudBASE` (private, Kenny's org)
- Stack: Play Framework (Scala, 142 files) + TypeScript (347 files) + Vite + Cesium 1.136 + MariaDB
- Branch: `new-cesium` (recently migrated RequireJS → ES Modules, Cesium 1.95 → 1.136)
- **Flight simulator**: Full aero engine (aero.ts, aerorotation.ts, aerotranslation.ts, integrator.ts, inertia.ts), gamepad/keyboard/pointer/touch controls, canopy+wingsuit modes, wind system (859 lines), Cesium 3D terrain+collision
- **Polar Studio** (~3,750 lines): Polar editor, advanced optimizer (least-squares any-order fit), polar fuse/merge, filter/guide editors, AOA/CP editors, WSE panel. Designs sim-ready polars exportable to Polar Project
- **Data viewer**: Track upload/analysis, speed charts, 3D replay, wind extraction, hi-scores, histograms
- 30 Scala controllers, S3 storage, user system, API v0/v1
- CONTINUOUS-POLAR.md here is the origin document that spawned the Polar Project

### FlySight 2 Firmware (`C:\dev\flysight firmware\hozaka\flysight-2-firmware`)
- Saved `dev-setup.jpg` to firmware project root — ST-LINK/V2 + breadboard breakout + FlySight 2 PCB
- Hartman successfully programmed dev unit with his firmware build today, tested BLE sensor streaming
- BLE divider rate commands working — prevents queue flooding
- Tested in VR (BASElineXR) with live FlySight 2 BLE data

### Upstream Merge Analysis
- Hartman's `master` at `e29e9a0`, missing 18 commits from `upstream/master`
- Upstream work: IMU overrun recovery (PR #63), IMU init/deinit cleanup, SD card perf (CMD25 multi-block, batch writes, remove malloc), CPU clock 64MHz, IMU integer overflow fix
- Merge base is `e29e9a0` (shared between develop and upstream/master)
- 7 files modified by both sides: `active_mode.c`, `log.c`, `app_ble.c`, `main.c`, `app_conf.h`, `.cproject`, `.ioc`
- `imu.c` (biggest upstream change, 202 lines) merges clean — Hartman didn't touch it
- Real conflicts expected in `active_mode.c`, `log.c`, `app_ble.c`
- Hartman plans to use GitLens to review Michael's changes before merging
- Topic branch recommended for merge

## hartman-ops Updates
- Created `projects/SYSTEM-OVERVIEW.md` — full hardware-to-aero pipeline diagram
- Updated `projects/INDEX.md` with FlySight Firmware, FlySight Companion, BASElineXR, and expanded CloudBASE entry
- Commits: `6f45616`, `268f98c` (both pushed to main)

## Key Context
- "Michael" = crwper on GitHub = Michael Cooper = FlySight creator/maintainer
- Hozaka forked Michael's firmware; Hartman forked Hozaka's
- Hartman has production FlySight 2 (OTA) + dev unit (SWD/serial, no bootloader) — dev unit now confirmed working
- BASElineXR is on `platypii` GitHub org (Kenny's), not Hartman's
